{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import{ThemeContext}from\"../../context/Theme\";import{SuccessContext}from\"../../context/Success\";import{AlertsContext}from\"../../context/Alerts\";import axios from\"axios\";import API from\"../../service/API\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const serverUrl=process.env.REACT_APP_SERVER_URL;export const AddNotification=_ref=>{let{setSelected}=_ref;const[theme]=useContext(ThemeContext);const[isOpen,setIsOpen]=useState(false);const[title,setTitle]=useState(\"\");const[message,setMessage]=useState(\"\");const[success,setSuccess]=useContext(SuccessContext);const[errors,setErrors]=useContext(AlertsContext);const authToken=localStorage.getItem(\"authToken\");const refreshToken=localStorage.getItem(\"refreshToken\");const serverUrl=process.env.REACT_APP_SERVER_URL;// Toggle Dropdown Menu\nconst toggleDropdown=()=>{setIsOpen(!isOpen);};// Handle Form Submission\nconst handleCreateNotification=async()=>{setErrors([]);setSuccess(false);setSelected(\"Notification\");// Validation\nif(!title||!message){setErrors([\"All fields are required.\"]);return;}// API Request\nconst config={url:`${serverUrl}/notification/addnotification`,method:\"POST\",data:{title:title,message:message}};const{res,error,loading}=await API(config);if(res){setSuccess(true);setErrors([\"Notification added successfully!\"]);}if(error)console.log(error);};return/*#__PURE__*/_jsxs(\"div\",{className:`col-span-8 overflow-hidden rounded-lg text-xs md:text-md w-64 px-8 sm:w-full py-10 ${theme===\"night\"?\"bg-night text-white \":\"bg-fantasy text-black\"}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-full\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Add Notification\"}),/*#__PURE__*/_jsx(\"button\",{id:\"btn_back_AddNotification\",onClick:()=>setSelected(\"Notification\"),className:\"rounded-lg px-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-circle-chevron-left text-3xl\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mt-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full border border-gray-300 rounded-lg px-2 py-1 mt-2\",placeholder:\"Enter title...\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mt-4\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-24 border border-gray-300 rounded-lg px-2 py-1 mt-2\",placeholder:\"Enter message...\",value:message,onChange:e=>setMessage(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{id:\"btn_createnotification\",onClick:handleCreateNotification,className:\"bg-green-500 text-white rounded-lg px-4 py-2 mt-4\",children:\"Create Notification\"})})]})]});};","map":{"version":3,"names":["React","useState","useContext","useNavigate","ThemeContext","SuccessContext","AlertsContext","axios","API","jsx","_jsx","jsxs","_jsxs","serverUrl","process","env","REACT_APP_SERVER_URL","AddNotification","_ref","setSelected","theme","isOpen","setIsOpen","title","setTitle","message","setMessage","success","setSuccess","errors","setErrors","authToken","localStorage","getItem","refreshToken","toggleDropdown","handleCreateNotification","config","url","method","data","res","error","loading","console","log","className","children","id","onClick","type","placeholder","value","onChange","e","target"],"sources":["D:/PUGADMAHARLIKA/Pugad-Maharlika-Frontend/client/src/pages/admin/AddNotification.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ThemeContext } from \"../../context/Theme\";\r\nimport { SuccessContext } from \"../../context/Success\";\r\nimport { AlertsContext } from \"../../context/Alerts\";\r\nimport axios from \"axios\";\r\nimport API from \"../../service/API\";\r\n\r\nconst serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport const AddNotification = ({ setSelected }) => {\r\n  const [theme] = useContext(ThemeContext);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [success, setSuccess] = useContext(SuccessContext);\r\n  const [errors, setErrors] = useContext(AlertsContext);\r\n  const authToken = localStorage.getItem(\"authToken\");\r\n  const refreshToken = localStorage.getItem(\"refreshToken\");\r\n  const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\n  // Toggle Dropdown Menu\r\n  const toggleDropdown = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  // Handle Form Submission\r\n  const handleCreateNotification = async () => {\r\n    setErrors([]);\r\n    setSuccess(false);\r\n    setSelected(\"Notification\");\r\n    // Validation\r\n    if (!title || !message) {\r\n      setErrors([\"All fields are required.\"]);\r\n      return;\r\n    }\r\n\r\n    // API Request\r\n    const config = {\r\n      url: `${serverUrl}/notification/addnotification`,\r\n      method: \"POST\",\r\n      data: {\r\n        title: title,\r\n        message: message,\r\n      },\r\n    };\r\n\r\n    const { res, error, loading } = await API(config);\r\n    if (res) {\r\n      setSuccess(true);\r\n      setErrors([\"Notification added successfully!\"]);\r\n    }\r\n    if (error) console.log(error);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`col-span-8 overflow-hidden rounded-lg text-xs md:text-md w-64 px-8 sm:w-full py-10 ${\r\n        theme === \"night\" ? \"bg-night text-white \" : \"bg-fantasy text-black\"\r\n      }`}\r\n    >\r\n      <div className=\"flex justify-between w-full\">\r\n        <h1 className=\"text-2xl font-bold\">Add Notification</h1>\r\n        <button\r\n          id=\"btn_back_AddNotification\"\r\n          onClick={() => setSelected(\"Notification\")}\r\n          className=\"rounded-lg px-4\"\r\n        >\r\n          <i className=\"fa-solid fa-circle-chevron-left text-3xl\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col mt-8\">\r\n        <h1 className=\"text-2xl font-bold\">Title</h1>\r\n        <input\r\n          type=\"text\"\r\n          className=\"w-full border border-gray-300 rounded-lg px-2 py-1 mt-2\"\r\n          placeholder=\"Enter title...\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n\r\n        <h1 className=\"text-2xl font-bold mt-4\">Message</h1>\r\n        <textarea\r\n          className=\"w-full h-24 border border-gray-300 rounded-lg px-2 py-1 mt-2\"\r\n          placeholder=\"Enter message...\"\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n        ></textarea>\r\n\r\n        {/* Add Notification Button */}\r\n        <div className=\"flex justify-end\">\r\n          <button\r\n            id=\"btn_createnotification\"\r\n            onClick={handleCreateNotification}\r\n            className=\"bg-green-500 text-white rounded-lg px-4 py-2 mt-4\"\r\n          >\r\n            Create Notification\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}