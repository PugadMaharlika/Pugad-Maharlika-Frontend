{"ast":null,"code":"import React from\"react\";import ItemCard from\"../../components/ui/ItemCard\";import{ThemeContext}from\"../../context/Theme\";import axios from\"axios\";import{useContext,useState,useEffect}from\"react\";import{AlertsContext}from\"../../context/Alerts\";import{UserContext}from\"../../context/User\";import{SuccessContext}from\"../../context/Success\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ItemDetails=_ref=>{let{setSelected,id,selectedItem}=_ref;const[theme,setTheme]=useContext(ThemeContext);const[items,setItems]=useState(\"\");const[user,setUser]=useContext(UserContext);const[success,setSuccess]=useContext(SuccessContext);const[errors,setErrors]=useContext(AlertsContext);const authToken=localStorage.getItem(\"authToken\");const refreshToken=localStorage.getItem(\"refreshToken\");const serverUrl=process.env.REACT_APP_SERVER_URL;useEffect(()=>{const fetchItems=async()=>{try{setErrors([]);setSuccess(false);await axios.get(`${serverUrl}/item/itemdetails?id=${selectedItem}`,{headers:{\"x-auth-token\":authToken,\"x-refresh-token\":refreshToken}}).then(response=>{console.log(response);setItems(response.data.item);setUser(response.data.account);setSuccess(true);// Set success only if the request succeeds\n});}catch(error){console.error(error);setSuccess(false);if(error.response&&error.response.data.errors){setErrors(error.response.data.errors.map(err=>err.msg));}else{setErrors([\"An unexpected error occurred.\"]);// Generic fallback\n}}};fetchItems();// Optionally return a cleanup function\nreturn()=>{setItems([]);// Example cleanup, adjust as needed\n};},[]);// Dependencies to rerun effect only when these values change\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col col-span-8 overflow-hidden rounded-lg text-xs md:text-md px-8 sm:w-full h-full gap-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full rounded-xl h-16 shadow-md bg-fantasy p-4 pl-4 justify-between py-4 font-bold\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Item Details\"}),/*#__PURE__*/_jsx(\"button\",{id:\"btn_back_item_details\",onClick:()=>{setSelected(\"Items\");},className:\"rounded-lg px-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-circle-chevron-left text-3xl\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto bg-white rounded-xl shadow-md overflow-hidden w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"md:flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-48 w-full object-contain m-2\",src:items&&items.item_sprite,alt:\"Product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"uppercase tracking-wide text-sm text-indigo-500 font-semibold\",children:items&&items.item_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-gray-600\",children:[\"Product Description: \",items&&items.item_desc]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Price: \",items&&items.item_value]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Status:\",\" \",items&&items.item_enabled?\"Released\":\"Unreleased\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Date Created: \",items&&items.date_created]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Date Updated: \",items&&items.date_updated]})})]})]})})]});};export default ItemDetails;","map":{"version":3,"names":["React","ItemCard","ThemeContext","axios","useContext","useState","useEffect","AlertsContext","UserContext","SuccessContext","jsx","_jsx","jsxs","_jsxs","ItemDetails","_ref","setSelected","id","selectedItem","theme","setTheme","items","setItems","user","setUser","success","setSuccess","errors","setErrors","authToken","localStorage","getItem","refreshToken","serverUrl","process","env","REACT_APP_SERVER_URL","fetchItems","get","headers","then","response","console","log","data","item","account","error","map","err","msg","className","children","onClick","src","item_sprite","alt","item_name","item_desc","item_value","item_enabled","date_created","date_updated"],"sources":["D:/PUGADMAHARLIKA/Pugad-Maharlika-Frontend/client/src/pages/admin/ItemDetails.jsx"],"sourcesContent":["import React from \"react\";\r\nimport ItemCard from \"../../components/ui/ItemCard\";\r\nimport { ThemeContext } from \"../../context/Theme\";\r\nimport axios from \"axios\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\nimport { AlertsContext } from \"../../context/Alerts\";\r\nimport { UserContext } from \"../../context/User\";\r\nimport { SuccessContext } from \"../../context/Success\";\r\n\r\nexport const ItemDetails = ({ setSelected, id, selectedItem }) => {\r\n  const [theme, setTheme] = useContext(ThemeContext);\r\n  const [items, setItems] = useState(\"\");\r\n  const [user, setUser] = useContext(UserContext);\r\n  const [success, setSuccess] = useContext(SuccessContext);\r\n  const [errors, setErrors] = useContext(AlertsContext);\r\n  const authToken = localStorage.getItem(\"authToken\");\r\n  const refreshToken = localStorage.getItem(\"refreshToken\");\r\n  const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\n  useEffect(() => {\r\n    const fetchItems = async () => {\r\n      try {\r\n        setErrors([]);\r\n        setSuccess(false);\r\n\r\n        await axios\r\n          .get(`${serverUrl}/item/itemdetails?id=${selectedItem}`, {\r\n            headers: {\r\n              \"x-auth-token\": authToken,\r\n              \"x-refresh-token\": refreshToken,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            console.log(response);\r\n            setItems(response.data.item);\r\n            setUser(response.data.account);\r\n            setSuccess(true); // Set success only if the request succeeds\r\n          });\r\n      } catch (error) {\r\n        console.error(error);\r\n        setSuccess(false);\r\n        if (error.response && error.response.data.errors) {\r\n          setErrors(error.response.data.errors.map((err) => err.msg));\r\n        } else {\r\n          setErrors([\"An unexpected error occurred.\"]); // Generic fallback\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchItems();\r\n\r\n    // Optionally return a cleanup function\r\n    return () => {\r\n      setItems([]); // Example cleanup, adjust as needed\r\n    };\r\n  }, []); // Dependencies to rerun effect only when these values change\r\n\r\n  return (\r\n    <div className=\"flex flex-col col-span-8 overflow-hidden rounded-lg text-xs md:text-md px-8 sm:w-full h-full gap-5\">\r\n      <div className=\"flex w-full rounded-xl h-16 shadow-md bg-fantasy p-4 pl-4 justify-between py-4 font-bold\">\r\n        <h1 className=\"text-3xl font-bold\">Item Details</h1>\r\n        <button\r\n          id=\"btn_back_item_details\"\r\n          onClick={() => {\r\n            setSelected(\"Items\");\r\n          }}\r\n          className=\"rounded-lg px-4\"\r\n        >\r\n          <i className=\"fa-solid fa-circle-chevron-left text-3xl\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"mx-auto bg-white rounded-xl shadow-md overflow-hidden w-full\">\r\n        <div className=\"md:flex\">\r\n          <div className=\"md:flex-shrink-0\">\r\n            <img\r\n              className=\"h-48 w-full object-contain m-2\"\r\n              src={items && items.item_sprite}\r\n              alt=\"Product\"\r\n            />\r\n          </div>\r\n          <div className=\"p-8\">\r\n            <div className=\"uppercase tracking-wide text-sm text-indigo-500 font-semibold\">\r\n              {items && items.item_name}\r\n            </div>\r\n            <p className=\"mt-2 text-gray-600\">\r\n              Product Description: {items && items.item_desc}\r\n            </p>\r\n            <div className=\"mt-4\">\r\n              <span className=\"text-gray-600\">\r\n                Price: {items && items.item_value}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <span className=\"text-gray-600\">\r\n                Status:{\" \"}\r\n                {items && items.item_enabled ? \"Released\" : \"Unreleased\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <span className=\"text-gray-600\">\r\n                Date Created: {items && items.date_created}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <span className=\"text-gray-600\">\r\n                Date Updated: {items && items.date_updated}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}