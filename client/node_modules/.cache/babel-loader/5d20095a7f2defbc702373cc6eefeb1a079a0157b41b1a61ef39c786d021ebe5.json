{"ast":null,"code":"import React,{useState,useContext,useEffect}from\"react\";import{ThemeContext}from\"../../context/Theme\";import{UserContext}from\"../../context/User\";import{SuccessContext}from\"../../context/Success\";import{AlertsContext}from\"../../context/Alerts\";import axios from\"axios\";import API from\"../../service/API\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";{/*Get Props*/}export const ViewNotification=_ref=>{let{setSelected,notificationselected,setNotificationselected}=_ref;const[theme,setTheme]=useContext(ThemeContext);const[notification,setNotification]=useState(null);const[message,setMessage]=useState(null);const[user,setUser]=useContext(UserContext);const[success,setSuccess]=useContext(SuccessContext);const[errors,setErrors]=useContext(AlertsContext);const authToken=localStorage.getItem(\"authToken\");const refreshToken=localStorage.getItem(\"refreshToken\");const serverUrl=process.env.REACT_APP_SERVER_URL;const[isloading,setIsloading]=useState(true);useEffect(()=>{const handleViewNotification=async()=>{setErrors([]);setSuccess(false);const config={url:`${serverUrl}/notification/view-note?note_id=${notificationselected}`,method:\"GET\",data:{}};const{res,error,loading}=await API(config);if(res){setIsloading(false);setUser(res.data.account);setNotification(res.data.notification);console.log(res);}if(error)console.log(error);};handleViewNotification();},[]);const handleEditNotification=note_id=>{setSelected(\"EditNotification\");setNotificationselected(note_id);};return/*#__PURE__*/_jsx(\"div\",{className:`col-span-8 overflow-hidden rounded-lg shadow-lg  text-xs md:text-md w-64 px-8 sm:w-full py-10 ${theme===\"night\"?\"bg-night text-white \":\"bg-fantasy text-black\"}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start justify-start p-2 w-full mx-4\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"btn_back_ViewNotification\",onClick:()=>{setSelected(\"Notification\");},className:\"absolute top-0 right-0 m-4 px-4 py-2 rounded hover:text-blue-700\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-circle-chevron-left text-3xl\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16 text-left\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Title\"}),/*#__PURE__*/_jsx(\"p\",{className:\"py-4\",children:notification&&notification.note_title}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold \",children:\"Message\"}),/*#__PURE__*/_jsx(\"p\",{className:\"py-4\",children:notification&&notification.note_message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full justify-end\",children:[user.role!=\"P\"&&/*#__PURE__*/_jsxs(\"button\",{id:\"btn_EditNotification\",onClick:()=>{handleEditNotification(notification.note_id);},className:\"hover:bg-green-700   bg-green-500 text-white rounded-lg px-4 py-2 mt-4 \",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pen mr-2\"}),\"Edit\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"hover:bg-red-700   bg-red-500 text-white rounded-lg px-4 py-2 mt-4 \",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash mr-2\"}),\"Delete\"]})})]})]})});};","map":{"version":3,"names":["React","useState","useContext","useEffect","ThemeContext","UserContext","SuccessContext","AlertsContext","axios","API","jsx","_jsx","jsxs","_jsxs","ViewNotification","_ref","setSelected","notificationselected","setNotificationselected","theme","setTheme","notification","setNotification","message","setMessage","user","setUser","success","setSuccess","errors","setErrors","authToken","localStorage","getItem","refreshToken","serverUrl","process","env","REACT_APP_SERVER_URL","isloading","setIsloading","handleViewNotification","config","url","method","data","res","error","loading","account","console","log","handleEditNotification","note_id","className","children","id","onClick","note_title","note_message","role"],"sources":["D:/PUGADMAHARLIKA/Pugad-Maharlika-Frontend/client/src/pages/admin/ViewNotification.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { ThemeContext } from \"../../context/Theme\";\r\nimport { UserContext } from \"../../context/User\";\r\nimport { SuccessContext } from \"../../context/Success\";\r\nimport { AlertsContext } from \"../../context/Alerts\";\r\nimport axios from \"axios\";\r\nimport API from \"../../service/API\";\r\n{\r\n  /*Get Props*/\r\n}\r\nexport const ViewNotification = ({\r\n  setSelected,\r\n  notificationselected,\r\n  setNotificationselected,\r\n}) => {\r\n  const [theme, setTheme] = useContext(ThemeContext);\r\n  const [notification, setNotification] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [user, setUser] = useContext(UserContext);\r\n  const [success, setSuccess] = useContext(SuccessContext);\r\n  const [errors, setErrors] = useContext(AlertsContext);\r\n  const authToken = localStorage.getItem(\"authToken\");\r\n  const refreshToken = localStorage.getItem(\"refreshToken\");\r\n  const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n  const [isloading, setIsloading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const handleViewNotification = async () => {\r\n      setErrors([]);\r\n      setSuccess(false);\r\n      const config = {\r\n        url: `${serverUrl}/notification/view-note?note_id=${notificationselected}`,\r\n        method: \"GET\",\r\n        data: {},\r\n      };\r\n\r\n      const { res, error, loading } = await API(config);\r\n      if (res) {\r\n        setIsloading(false);\r\n        setUser(res.data.account);\r\n        setNotification(res.data.notification);\r\n        console.log(res);\r\n      }\r\n      if (error) console.log(error);\r\n    };\r\n    handleViewNotification();\r\n  }, []);\r\n\r\n  const handleEditNotification = (note_id) => {\r\n    setSelected(\"EditNotification\");\r\n    setNotificationselected(note_id);\r\n  };\r\n  return (\r\n    <div\r\n      className={`col-span-8 overflow-hidden rounded-lg shadow-lg  text-xs md:text-md w-64 px-8 sm:w-full py-10 ${\r\n        theme === \"night\" ? \"bg-night text-white \" : \"bg-fantasy text-black\"\r\n      }`}\r\n    >\r\n      <div className=\"flex flex-col items-start justify-start p-2 w-full mx-4\">\r\n        <button\r\n          id=\"btn_back_ViewNotification\"\r\n          onClick={() => {\r\n            setSelected(\"Notification\");\r\n          }}\r\n          className=\"absolute top-0 right-0 m-4 px-4 py-2 rounded hover:text-blue-700\"\r\n        >\r\n          <i className=\"fa-solid fa-circle-chevron-left text-3xl\"></i>\r\n        </button>\r\n\r\n        <div className=\"mt-16 text-left\">\r\n          <h1 className=\"text-2xl font-bold\">Title</h1>\r\n          <p className=\"py-4\">{notification && notification.note_title}</p>\r\n\r\n          <h2 className=\"text-xl font-bold \">Message</h2>\r\n          <p className=\"py-4\">{notification && notification.note_message}</p>\r\n        </div>\r\n        <div className=\"flex w-full justify-end\">\r\n          {user.role != \"P\" && (\r\n            <button\r\n              id=\"btn_EditNotification\"\r\n              onClick={() => {\r\n                handleEditNotification(notification.note_id);\r\n              }}\r\n              className=\"hover:bg-green-700   bg-green-500 text-white rounded-lg px-4 py-2 mt-4 \"\r\n            >\r\n              <i className=\"fa-solid fa-pen mr-2\"></i>\r\n              Edit\r\n            </button>\r\n          )}\r\n          <div className=\"ml-2\">\r\n            <button className=\"hover:bg-red-700   bg-red-500 text-white rounded-lg px-4 py-2 mt-4 \">\r\n              <i className=\"fa-solid fa-trash mr-2\"></i>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}