{"ast":null,"code":"import axios from \"axios\";\nconst UploadImage = (user, file, setSuccess, setErrors, setCallback) => {\n  console.log(file);\n  if (file == \"\") {\n    setSuccess(false);\n    setErrors([\"No file selected. Please select an image file\"]);\n    return false;\n  }\n\n  // Check file type (case-insensitive)\n  const allowedTypes = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n  if (!allowedTypes.includes(file.type.toLowerCase())) {\n    setSuccess(false);\n    setErrors([\"Invalid file type. Only PNG, JPG, and JPEG are allowed\"]);\n    return false;\n  }\n\n  // Check file size (less than or equal to 5 MB)\n  const maxSize = 5 * 1024 * 1024; // 5 MB in bytes\n  if (file.size > maxSize) {\n    setSuccess(false);\n    setErrors([\"File size exceeds 5 MB. Please choose a smaller file.\"]);\n    return false;\n  }\n  const formData = new FormData();\n  const file_name = file.name;\n  formData.append(\"file\", file);\n  formData.append(\"upload_preset\", \"bly6md1o\");\n  axios.post(\"https://api.cloudinary.com/v1_1/dchcpwbya/upload\", formData).then(response => {\n    setSuccess(true);\n    setErrors([\"Image uploaded successfully.\"]);\n    setCallback(response.data.url);\n  });\n};\n_c = UploadImage;\nexport default UploadImage;\nvar _c;\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"names":["axios","UploadImage","user","file","setSuccess","setErrors","setCallback","console","log","allowedTypes","includes","type","toLowerCase","maxSize","size","formData","FormData","file_name","name","append","post","then","response","data","url","_c","$RefreshReg$"],"sources":["C:/Users/torre/Documents/GitHub/Pugad Maharlika Web App/Pugad-Maharlika-Frontend/client/src/service/UploadImage.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst UploadImage = (user, file, setSuccess, setErrors, setCallback) => {\r\n  console.log(file);\r\n  if (file == \"\") {\r\n    setSuccess(false);\r\n    setErrors([\"No file selected. Please select an image file\"]);\r\n    return false;\r\n  }\r\n\r\n  // Check file type (case-insensitive)\r\n  const allowedTypes = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n  if (!allowedTypes.includes(file.type.toLowerCase())) {\r\n    setSuccess(false);\r\n    setErrors([\"Invalid file type. Only PNG, JPG, and JPEG are allowed\"]);\r\n    return false;\r\n  }\r\n\r\n  // Check file size (less than or equal to 5 MB)\r\n  const maxSize = 5 * 1024 * 1024; // 5 MB in bytes\r\n  if (file.size > maxSize) {\r\n    setSuccess(false);\r\n    setErrors([\"File size exceeds 5 MB. Please choose a smaller file.\"]);\r\n    return false;\r\n  }\r\n\r\n  const formData = new FormData();\r\n  const file_name = file.name;\r\n  formData.append(\"file\", file);\r\n  formData.append(\"upload_preset\", \"bly6md1o\");\r\n\r\n  axios.post(\"https://api.cloudinary.com/v1_1/dchcpwbya/upload\", formData).then((response) => {\r\n    setSuccess(true);\r\n    setErrors([\"Image uploaded successfully.\"]);\r\n    setCallback(response.data.url);\r\n  });\r\n};\r\n\r\nexport default UploadImage;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGA,CAACC,IAAI,EAAEC,IAAI,EAAEC,UAAU,EAAEC,SAAS,EAAEC,WAAW,KAAK;EACtEC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;EACjB,IAAIA,IAAI,IAAI,EAAE,EAAE;IACdC,UAAU,CAAC,KAAK,CAAC;IACjBC,SAAS,CAAC,CAAC,+CAA+C,CAAC,CAAC;IAC5D,OAAO,KAAK;EACd;;EAEA;EACA,MAAMI,YAAY,GAAG,CAAC,WAAW,EAAE,YAAY,EAAE,WAAW,CAAC;EAC7D,IAAI,CAACA,YAAY,CAACC,QAAQ,CAACP,IAAI,CAACQ,IAAI,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE;IACnDR,UAAU,CAAC,KAAK,CAAC;IACjBC,SAAS,CAAC,CAAC,wDAAwD,CAAC,CAAC;IACrE,OAAO,KAAK;EACd;;EAEA;EACA,MAAMQ,OAAO,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;EACjC,IAAIV,IAAI,CAACW,IAAI,GAAGD,OAAO,EAAE;IACvBT,UAAU,CAAC,KAAK,CAAC;IACjBC,SAAS,CAAC,CAAC,uDAAuD,CAAC,CAAC;IACpE,OAAO,KAAK;EACd;EAEA,MAAMU,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/B,MAAMC,SAAS,GAAGd,IAAI,CAACe,IAAI;EAC3BH,QAAQ,CAACI,MAAM,CAAC,MAAM,EAAEhB,IAAI,CAAC;EAC7BY,QAAQ,CAACI,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC;EAE5CnB,KAAK,CAACoB,IAAI,CAAC,kDAAkD,EAAEL,QAAQ,CAAC,CAACM,IAAI,CAAEC,QAAQ,IAAK;IAC1FlB,UAAU,CAAC,IAAI,CAAC;IAChBC,SAAS,CAAC,CAAC,8BAA8B,CAAC,CAAC;IAC3CC,WAAW,CAACgB,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC;EAChC,CAAC,CAAC;AACJ,CAAC;AAACC,EAAA,GAlCIxB,WAAW;AAoCjB,eAAeA,WAAW;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}